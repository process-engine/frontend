{"version":3,"sources":["../../src/redux/create.js"],"names":["path","require","appRoot","normalize","process","cwd","persistState","DevTools","createStore","config","reducer","history","data","finalCreateStore","__DEVELOPMENT__","__CLIENT__","__DEVTOOLS__","window","devToolsExtension","instrument","location","href","match","store","module","hot","accept","reducerPath","reducerFileName","replaceReducer","exports"],"mappings":"AAAA;;AAEA;;AACA;;;;;;AAEA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,UAAUF,KAAKG,SAAL,CAAeC,QAAQC,GAAR,EAAf,CAAhB;;eAEyBJ,QAAQ,gBAAR,C;IAAjBK,Y,YAAAA,Y;;AACR,IAAMC,WAAWN,QAAQ,8BAAR,CAAjB;;AAEA,SAASO,WAAT,CAAqBC,MAArB,EAA6BC,OAA7B,EAAsCC,OAAtC,EAA+CC,IAA/C,EAAqD;AACjD,QAAIC,yBAAJ;AACA,QAAIC,mBAAmBC,UAAnB,IAAiCC,YAArC,EAAmD;AAC/CH,2BAAmB,oBACf,iDADe,EAEfI,OAAOC,iBAAP,GAA2BD,OAAOC,iBAAP,EAA3B,GAAwDX,SAASY,UAAT,EAFzC,EAGfb,aAAaW,OAAOG,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,6BAA3B,CAAb,CAHe,qBAAnB;AAKH,KAND,MAMO;AACHT,2BAAmB,oBACf,iDADe,qBAAnB;AAGH;;AAED,QAAMU,QAAQV,iBAAiBH,OAAjB,EAA0BE,IAA1B,CAAd;;AAEA,QAAIE,mBAAmBU,OAAOC,GAA1B,IAAiChB,MAArC,EAA6C;AACzCe,eAAOC,GAAP,CAAWC,MAAX,CAAkBxB,UAAU,GAAV,GAAgBO,OAAOkB,WAAvB,GAAqC,GAArC,GAA2ClB,OAAOmB,eAApE,EAAqF,YAAM;AACvFL,kBAAMM,cAAN,CAAqBnB,OAArB;AACH,SAFD;AAGH;;AAED,WAAOa,KAAP;AACH;;AAEDO,UAAUN,OAAOM,OAAP,GAAiBtB,WAA3B","file":"create.js","sourcesContent":["'use strict';\n\nimport { applyMiddleware, createStore as _createStore, compose } from 'redux';\nimport thunk from \"redux-thunk\";\n\nconst path = require('path');\nconst appRoot = path.normalize(process.cwd());\n\nconst { persistState } = require('redux-devtools');\nconst DevTools = require('../helpers/devtools/devtools');\n\nfunction createStore(config, reducer, history, data) {\n    let finalCreateStore;\n    if (__DEVELOPMENT__ && __CLIENT__ && __DEVTOOLS__) {\n        finalCreateStore = compose(\n            applyMiddleware(thunk),\n            window.devToolsExtension ? window.devToolsExtension() : DevTools.instrument(),\n            persistState(window.location.href.match(/[?&]debug_session=([^&]+)\\b/))\n        )(_createStore);\n    } else {\n        finalCreateStore = compose(\n            applyMiddleware(thunk)\n        )(_createStore);\n    }\n\n    const store = finalCreateStore(reducer, data);\n\n    if (__DEVELOPMENT__ && module.hot && config) {\n        module.hot.accept(appRoot + '/' + config.reducerPath + '/' + config.reducerFileName, () => {\n            store.replaceReducer(reducer);\n        });\n    }\n\n    return store;\n}\n\nexports = module.exports = createStore;\n"]}