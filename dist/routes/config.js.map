{"version":3,"sources":["../../src/routes/config.js"],"names":["module","exports","routeConfig","routes","buildRouting","store","frontendConfig","injectables","__404__","key","Object","keys","length","status","name","breadcrumbName","breadcrumbIgnore","path","component","NotFoundComponent","__APP__","routePath","appName","AppComponent","queries","appQueries","prepareParams","appPrepareParams","childRoutes","buildRoutingBlocks","singleRouteConfig","isIndexRoute","rest","backendDependencies","componentName","RouteElement","childRouteBlocks","forEach","childRouteKey","push","buildReactRoutes"],"mappings":"AAAA;;;;;;;;;;AAEA;;;;AACA;;;;AAEAA,OAAOC,OAAP,CAAeC,WAAf,GAA8B,YAAW;AACvC,MAAIC,SAAS,EAAb;;AAEA,MAAMC,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAQC,cAAR,EAAwBC,WAAxB,EAAwC;AAC3D;AACA;AACAD,mBAAeJ,WAAf,CAA2BM,OAA3B,GAAqC;AACnCC,WAAKC,OAAOC,IAAP,CAAYL,eAAeJ,WAA3B,EAAwCU,MADV;AAEnCC,cAAQ,GAF2B;AAGnCC,YAAM,UAH6B;AAInCC,sBAAgB,cAJmB;AAKnCC,wBAAkB,IALiB;AAMnCC,YAAM,GAN6B;AAOnCC,iBAAWZ,eAAea;AAPS,KAArC;;AAUA,QAAMhB,SAAS;AACbiB,eAAS;AACPX,aAAK,CADE;AAEPQ,cAAMX,eAAee,SAFd;AAGPP,cAAMR,eAAegB,OAHd;AAIPP,wBAAgBT,eAAeQ,IAJxB;AAKPE,0BAAkB,IALX;AAMPE,mBAAWZ,eAAeiB,YANnB;AAOPC,iBAASlB,eAAemB,UAPjB;AAQPC,uBAAepB,eAAeqB,gBARvB;AASPC,qBAAatB,eAAeJ;AATrB;AADI,KAAf;;AAcA,QAAM2B,qBAAqB,SAArBA,kBAAqB,CAACC,iBAAD,EAAuB;AAAA,UACxCC,YADwC,GACDD,iBADC,CACxCC,YADwC;AAAA,UAC1BH,WAD0B,GACDE,iBADC,CAC1BF,WAD0B;AAAA,UACVI,IADU,0CACDF,iBADC;;AAGhD;;AACA,aAAOE,KAAKC,mBAAZ;AACA,aAAOD,KAAKE,aAAZ;;AAEA,UAAMC,eAAgBJ,2DAAtB;;AAEA,UAAIK,mBAAmB,EAAvB;AACA,UAAIR,WAAJ,EAAiB;AACflB,eAAOC,IAAP,CAAYiB,WAAZ,EAAyBS,OAAzB,CAAiC,UAACC,aAAD,EAAmB;AAClDF,2BAAiBG,IAAjB,CAAsBV,mBAAmBD,YAAYU,aAAZ,CAAnB,CAAtB;AACD,SAFD;AAGD;;AAED,aACE;AAAC,oBAAD;AAAA,mCAAkBN,IAAlB,IAAwB,aAAazB,WAArC;AACG6B;AADH,OADF;AAKD,KArBD;;AAuBA,WAAO;AACLI,wBAAkBX,mBAAmB1B,OAAOiB,OAA1B,CADb;AAELjB;AAFK,KAAP;AAID,GAtDD;;AAwDA,SAAO,UAACE,KAAD,EAAQC,cAAR,EAAwBC,WAAxB;AAAA,WAAwCH,aAAaC,KAAb,EAAoBC,cAApB,EAAoCC,WAApC,CAAxC;AAAA,GAAP;AACD,CA5D6B,EAA9B","file":"config.js","sourcesContent":["'use strict';\n\nimport React, { Component } from 'react';\nimport { IndexRoute, Route } from 'react-router';\n\nmodule.exports.routeConfig = (function() {\n  let routes = {};\n\n  const buildRouting = (store, frontendConfig, injectables) => {\n    // Wrap routes into a root route\n    // Add the 404 route by default\n    frontendConfig.routeConfig.__404__ = {\n      key: Object.keys(frontendConfig.routeConfig).length,\n      status: 404,\n      name: 'notfound',\n      breadcrumbName: 'Seitenfehler',\n      breadcrumbIgnore: true,\n      path: '*',\n      component: frontendConfig.NotFoundComponent\n    };\n\n    const routes = {\n      __APP__: {\n        key: 0,\n        path: frontendConfig.routePath,\n        name: frontendConfig.appName,\n        breadcrumbName: frontendConfig.name,\n        breadcrumbIgnore: true,\n        component: frontendConfig.AppComponent,\n        queries: frontendConfig.appQueries,\n        prepareParams: frontendConfig.appPrepareParams,\n        childRoutes: frontendConfig.routeConfig\n      }\n    };\n\n    const buildRoutingBlocks = (singleRouteConfig) => {\n      const { isIndexRoute, childRoutes, ...rest } = singleRouteConfig;\n\n      // remove from residual props as they are forwarded to the Route component\n      delete rest.backendDependencies;\n      delete rest.componentName;\n\n      const RouteElement = (isIndexRoute ? IndexRoute : Route);\n\n      let childRouteBlocks = [];\n      if (childRoutes) {\n        Object.keys(childRoutes).forEach((childRouteKey) => {\n          childRouteBlocks.push(buildRoutingBlocks(childRoutes[childRouteKey]));\n        });\n      }\n\n      return (\n        <RouteElement {...rest} injectables={injectables}>\n          {childRouteBlocks}\n        </RouteElement>\n      );\n    };\n\n    return {\n      buildReactRoutes: buildRoutingBlocks(routes.__APP__),\n      routes\n    };\n  };\n\n  return (store, frontendConfig, injectables) => buildRouting(store, frontendConfig, injectables);\n}());\n"]}