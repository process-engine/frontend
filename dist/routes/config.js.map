{"version":3,"sources":["../../src/routes/config.js"],"names":["module","exports","routeConfig","routes","buildRouting","store","frontendConfig","__404__","key","Object","keys","length","status","name","breadcrumbName","breadcrumbIgnore","path","component","NotFoundComponent","__APP__","routePath","appName","AppComponent","queries","appQueries","prepareParams","appPrepareParams","childRoutes","buildRoutingBlocks","singleRouteConfig","isIndexRoute","rest","backendDependencies","componentName","RouteElement","childRouteBlocks","forEach","childRouteKey","push","buildReactRoutes"],"mappings":"AAAA;;;;;;AAEA;;;;AACA;;;;AAEAA,OAAOC,OAAP,CAAeC,WAAf,GAA8B,YAAW;AACrC,QAAIC,SAAS,EAAb;;AAEA,QAAMC,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAQC,cAAR,EAA2B;AAC5C;AACA;AACAA,uBAAeJ,WAAf,CAA2BK,OAA3B,GAAqC;AACjCC,iBAAKC,OAAOC,IAAP,CAAYJ,eAAeJ,WAA3B,EAAwCS,MADZ;AAEjCC,oBAAQ,GAFyB;AAGjCC,kBAAM,UAH2B;AAIjCC,4BAAgB,cAJiB;AAKjCC,8BAAkB,IALe;AAMjCC,kBAAM,GAN2B;AAOjCC,uBAAWX,eAAeY;AAPO,SAArC;;AAUA,YAAMf,SAAS;AACXgB,qBAAS;AACLX,qBAAK,CADA;AAELQ,sBAAMV,eAAec,SAFhB;AAGLP,sBAAMP,eAAee,OAHhB;AAILP,gCAAgBR,eAAeO,IAJ1B;AAKLE,kCAAkB,IALb;AAMLE,2BAAWX,eAAegB,YANrB;AAOLC,yBAASjB,eAAekB,UAPnB;AAQLC,+BAAenB,eAAeoB,gBARzB;AASLC,6BAAarB,eAAeJ;AATvB;AADE,SAAf;;AAcA,YAAM0B,qBAAqB,SAArBA,kBAAqB,CAACC,iBAAD,EAAuB;AAAA,gBACtCC,YADsC,GACCD,iBADD,CACtCC,YADsC;AAAA,gBACxBH,WADwB,GACCE,iBADD,CACxBF,WADwB;AAAA,gBACRI,IADQ,0CACCF,iBADD;;AAG9C;;AACA,mBAAOE,KAAKC,mBAAZ;AACA,mBAAOD,KAAKE,aAAZ;;AAEA,gBAAMC,eAAgBJ,2DAAtB;;AAEA,gBAAIK,mBAAmB,EAAvB;AACA,gBAAIR,WAAJ,EAAiB;AACblB,uBAAOC,IAAP,CAAYiB,WAAZ,EAAyBS,OAAzB,CAAiC,UAACC,aAAD,EAAmB;AAChDF,qCAAiBG,IAAjB,CAAsBV,mBAAmBD,YAAYU,aAAZ,CAAnB,CAAtB;AACH,iBAFD;AAGH;;AAED,mBACI;AAAC,4BAAD;AAAkBN,oBAAlB;AACKI;AADL,aADJ;AAKH,SArBD;;AAuBA,eAAO;AACHI,8BAAkBX,mBAAmBzB,OAAOgB,OAA1B,CADf;AAEHhB;AAFG,SAAP;AAIH,KAtDD;;AAwDA,WAAO,UAACE,KAAD,EAAQC,cAAR;AAAA,eAA2BF,aAAaC,KAAb,EAAoBC,cAApB,CAA3B;AAAA,KAAP;AACH,CA5D6B,EAA9B","file":"config.js","sourcesContent":["'use strict';\n\nimport React, { Component } from 'react';\nimport { IndexRoute, Route } from 'react-router';\n\nmodule.exports.routeConfig = (function() {\n    let routes = {};\n\n    const buildRouting = (store, frontendConfig) => {\n        // Wrap routes into a root route\n        // Add the 404 route by default\n        frontendConfig.routeConfig.__404__ = {\n            key: Object.keys(frontendConfig.routeConfig).length,\n            status: 404,\n            name: 'notfound',\n            breadcrumbName: 'Seitenfehler',\n            breadcrumbIgnore: true,\n            path: '*',\n            component: frontendConfig.NotFoundComponent\n        };\n\n        const routes = {\n            __APP__: {\n                key: 0,\n                path: frontendConfig.routePath,\n                name: frontendConfig.appName,\n                breadcrumbName: frontendConfig.name,\n                breadcrumbIgnore: true,\n                component: frontendConfig.AppComponent,\n                queries: frontendConfig.appQueries,\n                prepareParams: frontendConfig.appPrepareParams,\n                childRoutes: frontendConfig.routeConfig\n            }\n        };\n\n        const buildRoutingBlocks = (singleRouteConfig) => {\n            const { isIndexRoute, childRoutes, ...rest } = singleRouteConfig;\n\n            // remove from residual props as they are forwarded to the Route component\n            delete rest.backendDependencies;\n            delete rest.componentName;\n\n            const RouteElement = (isIndexRoute ? IndexRoute : Route);\n\n            let childRouteBlocks = [];\n            if (childRoutes) {\n                Object.keys(childRoutes).forEach((childRouteKey) => {\n                    childRouteBlocks.push(buildRoutingBlocks(childRoutes[childRouteKey]));\n                });\n            }\n\n            return (\n                <RouteElement {...rest}>\n                    {childRouteBlocks}\n                </RouteElement>\n            );\n        };\n\n        return {\n            buildReactRoutes: buildRoutingBlocks(routes.__APP__),\n            routes\n        };\n    };\n\n    return (store, frontendConfig) => buildRouting(store, frontendConfig);\n}());\n"]}